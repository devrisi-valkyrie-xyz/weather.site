<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Weather Dashboard</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 100px;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.4);
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .search-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }

        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        input {
            flex: 1;
            padding: 18px 25px;
            border-radius: 15px;
            border: 3px solid #667eea;
            font-size: 18px;
            transition: all 0.3s;
            background: white;
        }

        input:focus {
            outline: none;
            border-color: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        button {
            padding: 18px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(-1px);
        }

        .quick-cities {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .quick-city {
            padding: 10px 20px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .quick-city:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .loading {
            text-align: center;
            display: none;
            margin: 30px 0;
            font-size: 1.5em;
            color: #667eea;
        }

        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            display: none;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.2em;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .weather-info {
            display: none;
        }

        .main-weather {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .location {
            font-size: 2.5em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .coords {
            font-size: 0.4em;
            opacity: 0.8;
        }

        .weather-icon {
            font-size: 8em;
            margin: 20px 0;
            animation: bounce 3s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .temperature {
            font-size: 5em;
            font-weight: bold;
            margin: 20px 0;
        }

        .description {
            font-size: 1.8em;
            margin-bottom: 10px;
            text-transform: capitalize;
        }

        .timestamp {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .stat-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-unit {
            font-size: 0.5em;
            color: #888;
        }

        .forecast-section {
            margin-top: 30px;
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hourly-forecast {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .hourly-card {
            min-width: 120px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s;
        }

        .hourly-card:hover {
            transform: scale(1.05);
        }

        .hourly-time {
            font-size: 1.1em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .hourly-icon {
            font-size: 2.5em;
            margin: 10px 0;
        }

        .hourly-temp {
            font-size: 1.5em;
            font-weight: bold;
        }

        .daily-forecast {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .daily-card {
            background: white;
            border: 3px solid #667eea;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .daily-card:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }

        .daily-day {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .daily-icon {
            font-size: 3em;
            margin: 10px 0;
        }

        .daily-temps {
            font-size: 1.3em;
            margin-top: 10px;
        }

        .temp-high {
            color: #ff6b6b;
            font-weight: bold;
        }

        .temp-low {
            color: #4dabf7;
        }

        .additional-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .info-panel {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .info-title {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .info-content {
            font-size: 1.1em;
            line-height: 1.8;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 20px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .mini-chart {
            height: 100px;
            display: flex;
            align-items: flex-end;
            gap: 5px;
            margin-top: 15px;
        }

        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, #667eea 0%, #764ba2 100%);
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }

        .chart-bar:hover {
            opacity: 0.7;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            padding: 5px 15px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 0.8em;
            margin: 5px;
        }

        .clothing-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #667eea;
            transition: all 0.3s;
        }

        .clothing-item:hover {
            transform: scale(1.05);
            background: #667eea;
            color: white;
        }

        .activity-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 2em;
            }
            .temperature {
                font-size: 3em;
            }
        }
    </style>
</head>

<body>
<div class="animated-bg" id="animatedBg"></div>

<div class="container">
    <div class="header">
        <h1>ğŸŒ¤ï¸ Ultimate Weather Dashboard Pro Max Ultra</h1>
        <p class="subtitle">Real-time Weather Intelligence & Complete Lifestyle Forecasting System</p>
        <div>
            <span class="badge">Live Data</span>
            <span class="badge">7-Day Forecast</span>
            <span class="badge">India Tourism</span>
            <span class="badge">Activity Planner</span>
            <span class="badge">Air Quality</span>
            <span class="badge">Astronomy</span>
        </div>
    </div>

    <div class="search-section">
        <div class="search-box">
            <input id="cityInput" placeholder="ğŸ” Enter city name (e.g., London, Delhi, Tokyo, New York)" 
                   onkeypress="if(event.key==='Enter') getWeather()">
            <button onclick="getWeather()">ğŸŒ Get Weather</button>
        </div>
        <div class="quick-cities">
            <span class="quick-city" onclick="quickSearch('London')">ğŸ‡¬ğŸ‡§ London</span>
            <span class="quick-city" onclick="quickSearch('Delhi')">ğŸ‡®ğŸ‡³ Delhi</span>
            <span class="quick-city" onclick="quickSearch('Mumbai')">ğŸ‡®ğŸ‡³ Mumbai</span>
            <span class="quick-city" onclick="quickSearch('New York')">ğŸ‡ºğŸ‡¸ New York</span>
            <span class="quick-city" onclick="quickSearch('Tokyo')">ğŸ‡¯ğŸ‡µ Tokyo</span>
            <span class="quick-city" onclick="quickSearch('Paris')">ğŸ‡«ğŸ‡· Paris</span>
            <span class="quick-city" onclick="quickSearch('Dubai')">ğŸ‡¦ğŸ‡ª Dubai</span>
            <span class="quick-city" onclick="quickSearch('Sydney')">ğŸ‡¦ğŸ‡º Sydney</span>
        </div>
    </div>

    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>ğŸ” Fetching comprehensive weather data & lifestyle information...</p>
    </div>

    <div class="error" id="error"></div>

    <div class="weather-info" id="weather">
        <div class="main-weather">
            <div class="location">
                <span id="location"></span>
                <div class="coords" id="coords"></div>
            </div>
            <div class="weather-icon" id="icon"></div>
            <div class="temperature" id="temp"></div>
            <div class="description" id="desc"></div>
            <div class="timestamp" id="timestamp"></div>
        </div>

        <div class="chart-container">
            <h3 class="section-title">ğŸ›ï¸ Today's Must-Visit Place in India</h3>
            <div id="mustVisitPlace" style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px; align-items: center;">
                <div style="font-size: 5em; text-align: center;" id="placeIcon"></div>
                <div>
                    <h3 style="color: #667eea; font-size: 1.8em; margin-bottom: 10px;" id="placeName"></h3>
                    <p style="font-size: 1.1em; color: #666; line-height: 1.6; margin-bottom: 10px;" id="placeDesc"></p>
                    <div style="margin-top: 10px;">
                        <span class="badge" id="placeState"></span>
                        <span class="badge" id="placeCategory"></span>
                        <span class="badge" id="placeBestTime"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ’¨</div>
                <div class="stat-label">Wind Speed</div>
                <div class="stat-value"><span id="wind"></span> <span class="stat-unit">km/h</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒ¡ï¸</div>
                <div class="stat-label">Feels Like</div>
                <div class="stat-value"><span id="feels"></span> <span class="stat-unit">Â°C</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ§­</div>
                <div class="stat-label">Wind Direction</div>
                <div class="stat-value"><span id="windDir"></span> <span class="stat-unit">Â°</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ’§</div>
                <div class="stat-label">Humidity</div>
                <div class="stat-value"><span id="humidity"></span> <span class="stat-unit">%</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">â˜ï¸</div>
                <div class="stat-label">Cloud Cover</div>
                <div class="stat-value"><span id="cloudCover"></span> <span class="stat-unit">%</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒ…</div>
                <div class="stat-label">UV Index</div>
                <div class="stat-value"><span id="uvIndex"></span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ”­</div>
                <div class="stat-label">Visibility</div>
                <div class="stat-value"><span id="visibility"></span> <span class="stat-unit">km</span></div>
            </div>
            <!-- 010011100101100001000010010001010110100001000100010000110100001011111010100100100010101010010 -->
            <div class="stat-card">
                <div class="stat-icon">ğŸšï¸</div>
                <div class="stat-label">Pressure</div>
                <div class="stat-value"><span id="pressure"></span> <span class="stat-unit">hPa</span></div>
            </div>
        </div>

        <div class="forecast-section">
            <h2 class="section-title">ğŸ“Š 24-Hour Forecast</h2>
            <div class="hourly-forecast" id="hourlyForecast"></div>

            <h2 class="section-title">ğŸ“… 7-Day Forecast</h2>
            <div class="daily-forecast" id="dailyForecast"></div>
        </div>

        <div class="additional-info">
            <div class="info-panel">
                <div class="info-title">ğŸŒ¡ï¸ Temperature Analysis</div>
                <div class="info-content">
                    <p>Current: <strong id="tempAnalysis"></strong></p>
                    <p>Daily High: <strong id="tempHigh"></strong></p>
                    <p>Daily Low: <strong id="tempLow"></strong></p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="tempProgress"></div>
                    </div>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸ’§ Precipitation Data</div>
                <div class="info-content">
                    <p>Probability: <strong id="precipProb"></strong></p>
                    <p>Amount: <strong id="precipAmount"></strong></p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="precipProgress"></div>
                    </div>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸŒ… Sun & Moon</div>
                <div class="info-content">
                    <p>â˜€ï¸ Sunrise: <strong id="sunrise"></strong></p>
                    <p>ğŸŒ‡ Sunset: <strong id="sunset"></strong></p>
                    <p>â±ï¸ Daylight: <strong id="daylight"></strong></p>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸ¯ Weather Insights</div>
                <div class="info-content" id="insights"></div>
            </div>
        </div>

        <div class="additional-info">
            <div class="info-panel">
                <div class="info-title">ğŸŒ Air Quality Index</div>
                <div class="info-content">
                    <p>AQI Level: <strong id="aqiLevel"></strong></p>
                    <p>Status: <strong id="aqiStatus"></strong></p>
                    <p>PM2.5: <strong id="pm25"></strong> Î¼g/mÂ³</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="aqiProgress" style="background: linear-gradient(135deg, #51cf66 0%, #ffd43b 50%, #ff6b6b 100%);"></div>
                    </div>
                </div>
            </div>

           <!-- <div class="box">
                Level 1 ğŸŒ±
                <div class="box">
                    Level 2 ğŸŒ¿
                    <div class="box">
                        Level 3 ğŸƒ
                        <div class="box">
                            Level 4 ğŸŒ¼
                            <div class="box">
                                Level 5 ğŸŒ¸
                                <div class="box">
                                    Level 6 ğŸ€
                                    <div class="box">
                                        Level 7 ğŸŒŠ
                                        <div class="box">
                                            Level 8 ğŸŒŒ
                                            <div class="box">
                                                Level 9 ğŸŒ 
                                                <div class="box">
                                                    Level 10 ğŸ”¥
                                                    <!--010011100101100001000010010001010110100001000100010100100101011001000101010101000101111101101000010100100101100101010011010001000110100001011111010100100100010101010010-->
                                               <!-- </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->

            <div class="info-panel">
                <div class="info-title">ğŸŒ™ Moon Phase</div>
                <div class="info-content">
                    <div style="text-align: center; font-size: 4em;" id="moonIcon"></div>
                    <p style="text-align: center;"><strong id="moonPhase"></strong></p>
                    <p style="text-align: center; font-size: 0.9em; color: #666;" id="moonIllumination"></p>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">â­ Astronomical Info</div>
                <div class="info-content">
                    <p>ğŸŒŒ Solar Noon: <strong id="solarNoon"></strong></p>
                    <p>ğŸŒ“ Golden Hour: <strong id="goldenHour"></strong></p>
                    <p>âœ¨ Star Visibility: <strong id="starVisibility"></strong></p>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸ¯ Seasonal Activities</div>
                <div class="info-content" id="seasonalActivities"></div>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="section-title">ğŸ“š Random Weather Fact of the Day</h3>
            <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 20px; border-radius: 15px; font-size: 1.1em; line-height: 1.8;" id="weatherFact"></div>
        </div>

        <div class="stats-grid" style="margin-top: 30px;">
            <div class="stat-card">
                <div class="stat-icon">ğŸŒŠ</div>
                <div class="stat-label">Dew Point</div>
                <div class="stat-value"><span id="dewPoint"></span> <span class="stat-unit">Â°C</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">â˜‚ï¸</div>
                <div class="stat-label">Precipitation</div>
                <div class="stat-value"><span id="precipitation"></span> <span class="stat-unit">mm</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒ¬ï¸</div>
                <div class="stat-label">Wind Gust</div>
                <div class="stat-value"><span id="windGust"></span> <span class="stat-unit">km/h</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ­</div>
                <div class="stat-label">Weather Mood</div>
                <div class="stat-value" style="font-size: 1.5em;" id="weatherMood"></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸƒ</div>
                <div class="stat-label">Outdoor Index</div>
                <div class="stat-value"><span id="outdoorIndex"></span> <span class="stat-unit">/10</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒ¡ï¸</div>
                <div class="stat-label">Heat Index</div>
                <div class="stat-value"><span id="heatIndex"></span> <span class="stat-unit">Â°C</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">â„ï¸</div>
                <div class="stat-label">Wind Chill</div>
                <div class="stat-value"><span id="windChill"></span> <span class="stat-unit">Â°C</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒˆ</div>
                <div class="stat-label">Rainbow Chance</div>
                <div class="stat-value"><span id="rainbowChance"></span> <span class="stat-unit">%</span></div>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="section-title">ğŸ‘” What to Wear Today</h3>
            <div id="clothingAdvice" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;"></div>
        </div>

        <div class="chart-container">
            <h3 class="section-title">ğŸ¨ Weather-Based Activity Suggestions</h3>
            <div id="activitySuggestions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;"></div>
        </div>

        <div class="additional-info">
            <div class="info-panel">
                <div class="info-title">ğŸŒ Climate Zone</div>
                <div class="info-content">
                    <p>Type: <strong id="climateZone"></strong></p>
                    <p>Season: <strong id="currentSeason"></strong></p>
                    <p>Typical Range: <strong id="typicalRange"></strong></p>
                </div>
            </div>

            <div class="info-panel">
                <div class="info-title">âš¡ Weather Alerts</div>
                <div class="info-content" id="weatherAlerts"></div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸ“¸ Photography Tips</div>
                <div class="info-content" id="photoTips"></div>
            </div>

            <div class="info-panel">
                <div class="info-title">ğŸŒ± Gardening Index</div>
                <div class="info-content">
                    <p>Planting: <strong id="plantingIndex"></strong></p>
                    <p>Watering: <strong id="wateringIndex"></strong></p>
                    <p>Activity: <strong id="gardeningActivity"></strong></p>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="section-title">ğŸ“ˆ Temperature Trend (24h)</h3>
            <div class="mini-chart" id="tempChart"></div>
        </div>
    </div>

    <div class="footer">
        <p>âš¡ Powered by Open-Meteo API | Real-time Weather Data</p>
        <p>ğŸŒ Global Coverage | ğŸ”„ Auto-refresh Available | ğŸ“± Mobile Optimized</p>
        <p style="margin-top: 10px; font-size: 0.8em; opacity: 0.7;">ğŸ¯ Featuring Daily India Tourism Highlights | ğŸŒŸ Complete Weather Intelligence Suite | ğŸ¨ Activity Planning | ğŸ‘” Clothing Advice</p>
    </div>
</div>

<script>
// Create animated background clouds
function createClouds() {
    const bg = document.getElementById('animatedBg');
    for (let i = 0; i < 10; i++) {
        const cloud = document.createElement('div');
        cloud.className = 'cloud';
        cloud.style.width = Math.random() * 100 + 50 + 'px';
        cloud.style.height = Math.random() * 50 + 25 + 'px';
        cloud.style.top = Math.random() * 100 + '%';
        cloud.style.animationDelay = Math.random() * 20 + 's';
        cloud.style.animationDuration = (Math.random() * 20 + 15) + 's';
        bg.appendChild(cloud);
    }
}

createClouds();

function clothingItem(icon, label, query) {
    return `
    <div class="clothing-item"
         data-link="https://buyhatke.com/search?query=${encodeURIComponent(query)}">
        ${icon}<br>${label}
    </div>
    `;
}


// Indian tourist places database
const indianPlaces = [
    { name: "Taj Mahal", state: "Uttar Pradesh", icon: "ğŸ•Œ", desc: "An iconic white marble mausoleum built by Emperor Shah Jahan in memory of his wife Mumtaz Mahal. A UNESCO World Heritage Site and symbol of eternal love.", category: "Historical", bestTime: "Oct-Mar" },
    { name: "Jaipur City Palace", state: "Rajasthan", icon: "ğŸ°", desc: "A stunning blend of Rajasthani and Mughal architecture with beautiful courtyards, gardens and museums showcasing royal artifacts.", category: "Palace", bestTime: "Nov-Feb" },
    { name: "Kerala Backwaters", state: "Kerala", icon: "ğŸš¤", desc: "A network of tranquil lagoons, lakes and canals lined with palm trees. Experience traditional houseboat cruises through serene waters.", category: "Nature", bestTime: "Sep-Mar" },
    { name: "Goa Beaches", state: "Goa", icon: "ğŸ–ï¸", desc: "Golden sandy beaches with crystal clear waters, vibrant nightlife, Portuguese heritage and delicious seafood cuisine.", category: "Beach", bestTime: "Nov-Feb" },
    { name: "Varanasi Ghats", state: "Uttar Pradesh", icon: "ğŸ›•", desc: "Ancient spiritual city on the Ganges river with mystical ghats, evening aarti ceremonies and deeply spiritual atmosphere.", category: "Religious", bestTime: "Oct-Mar" },
    { name: "Mysore Palace", state: "Karnataka", icon: "ğŸ›ï¸", desc: "A magnificent Indo-Saracenic palace with intricate carvings, painted ceilings and illuminated by 100,000 lights on Sundays.", category: "Palace", bestTime: "Oct-Feb" },
    { name: "Darjeeling Tea Gardens", state: "West Bengal", icon: "ğŸµ", desc: "Lush green tea plantations in the Himalayan foothills with stunning mountain views and the famous Darjeeling Himalayan Railway.", category: "Nature", bestTime: "Mar-May" },
    { name: "Hampi Ruins", state: "Karnataka", icon: "ğŸ—¿", desc: "Ancient capital of Vijayanagara Empire with surreal boulder landscapes, magnificent temples and fascinating historical ruins.", category: "Historical", bestTime: "Oct-Feb" },
    { name: "Leh-Ladakh", state: "Jammu & Kashmir", icon: "ğŸ”ï¸", desc: "High altitude desert with breathtaking mountain scenery, ancient monasteries and adventure activities at the roof of the world.", category: "Adventure", bestTime: "May-Sep" },
    { name: "Khajuraho Temples", state: "Madhya Pradesh", icon: "â›©ï¸", desc: "UNESCO World Heritage Site famous for intricate stone carvings and sculptures depicting various aspects of life and spirituality.", category: "Historical", bestTime: "Oct-Mar" },
    { name: "Andaman Islands", state: "Andaman & Nicobar", icon: "ğŸï¸", desc: "Pristine tropical paradise with turquoise waters, white sandy beaches, coral reefs and diverse marine life perfect for diving.", category: "Beach", bestTime: "Nov-Apr" },
    { name: "Ajanta Caves", state: "Maharashtra", icon: "ğŸ•³ï¸", desc: "Ancient Buddhist rock-cut caves with stunning paintings and sculptures dating back to 2nd century BCE. UNESCO World Heritage Site.", category: "Historical", bestTime: "Nov-Mar" }
];

// Weather facts database
const weatherFacts = [
    "The highest temperature ever recorded on Earth was 134Â°F (56.7Â°C) in Death Valley, California on July 10, 1913! â˜€ï¸",
    "Lightning strikes the Earth about 100 times every second, which is about 8.6 million times per day! âš¡",
    "Raindrops can fall at speeds of up to 22 miles per hour (35 km/h) depending on their size! ğŸ’§",
    "A single cloud can weigh more than 1 million pounds! That's about the weight of 100 elephants! â˜ï¸",
    "The snowiest place on Earth is believed to be Mount Baker in Washington, USA, which received 1,140 inches (29 meters) of snow in one year! â„ï¸",
    "Wind speeds in a tornado can reach over 300 miles per hour (480 km/h) - faster than a Formula 1 race car! ğŸŒªï¸",
    "The coldest temperature ever recorded was -128.6Â°F (-89.2Â°C) at Vostok Station, Antarctica in 1983! ğŸ¥¶",
    "A typical thunderstorm releases energy equivalent to a 20-kiloton nuclear weapon! â›ˆï¸",
    "The sun evaporates over 1 trillion tons of water from Earth's surface every day! ğŸŒŠ",
    "Rainbows can appear at night - they're called 'moonbows' and are created by moonlight instead of sunlight! ğŸŒˆ"
];

/*
The traveler arrived in India not with a checklist, but with a quiet hungerâ€”to listen to stones, rivers, and prayers older than memory. His journey began at dawn, when the first light spilled over the **Ghats of Varanasi**, turning the Ganga into molten gold. Boats drifted like thoughts, bells rang, and smoke from incense curled into the sky. Here, life and death didnâ€™t argue; they sat together, whispering. The traveler felt small, and strangely complete.

From the riverâ€™s murmur he moved south, where **temples rise from rock like frozen hymns*. At Mahabalipuram, waves crashed against ancient carvingsâ€”gods, warriors, animalsâ€”each chiseled with a patience that mocked modern haste. He ran his fingers along stone warmed by centuries of sun, imagining the sculptors who once argued with gravity and won.

The road curved west into the green lungs of the country. In the *Western Ghats**, monsoon clouds stitched the hills together, waterfalls leapt without fear, and forests breathed. At dawn, mist wrapped the trees like a promise. He trekked quietly, learning the grammar of birdsong and the meaning of silence. Here, history wasnâ€™t written; it grew.

Further north, the desert welcomed him with a fierce kindness. In Rajasthan, forts watched over dunes like wise elders. At dusk, the traveler climbed temple steps as the sky bruised into purple. Lamps flickered alive, and the wind carried old songs. He understood then how devotion survives heat and hungerâ€”by turning endurance into beauty.

The mountains called last. In the Himalayas, where paths narrow and faith widens, he reached a shrine tucked between peaks. Snow creaked underfoot. Bells chimed thinly in the cold air. Pilgrims moved slowly, each step a prayer. The traveler closed his eyes, breathing thin air and thick belief, and felt time loosen its grip.

Between destinations, there were trainsâ€”long, rattling conversations of steelâ€”and chai shared with strangers who became friends in minutes. There were questions asked with smiles, directions given with stories, and meals that tasted like generosity. India, he realized, was not a place to be conquered by distance; it was a place that arrived when you stopped rushing.

On his last night, he sat beneath a sky crowded with stars, thinking of rivers and rocks, forests and flames, temples and trails. He hadnâ€™t collected monuments; he had borrowed moments. As he packed to leave, the traveler understood the gift India offered himâ€”not answers, but a deeper way of asking, and the courage to keep walking.

*/

function quickSearch(city) {
    document.getElementById('cityInput').value = city;
    getWeather();
}

async function getWeather() {
    const city = document.getElementById("cityInput").value.trim();
    if (!city) return showError("âš ï¸ Please enter a city name");

    hideAll();
    document.getElementById("loading").style.display = "block";

    try {
        // Geocoding
        const geoRes = await fetch(
            `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(city)}&count=1`
        );
        const geoData = await geoRes.json();

        if (!geoData.results) throw new Error("City not found");

        const { latitude, longitude, name, country } = geoData.results[0];

        // Comprehensive weather data
        const weatherRes = await fetch(
            `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&hourly=temperature_2m,relativehumidity_2m,precipitation_probability,weathercode,cloudcover,visibility,uv_index,windspeed_10m&daily=weathercode,temperature_2m_max,temperature_2m_min,sunrise,sunset,precipitation_probability_max&timezone=auto`
        );
        const weatherData = await weatherRes.json();

        displayWeather(weatherData, name, country, latitude, longitude);
        displayExtraInfo(weatherData, latitude, longitude);

    } catch (err) {
        showError("âŒ " + err.message);
    }
}

function displayWeather(data, city, country, lat, lon) {
    const w = data.current_weather;
    const current = new Date();
    const currentHour = current.getHours();

    // Main weather display
    document.getElementById("location").textContent = `${city}, ${country}`;
    document.getElementById("coords").textContent = `(${lat.toFixed(2)}Â°, ${lon.toFixed(2)}Â°)`;
    document.getElementById("temp").textContent = `${Math.round(w.temperature)}Â°C`;
    document.getElementById("wind").textContent = Math.round(w.windspeed);
    document.getElementById("feels").textContent = Math.round(w.temperature - (w.windspeed * 0.3));
    document.getElementById("windDir").textContent = w.winddirection;
    document.getElementById("desc").textContent = weatherText(w.weathercode);
    document.getElementById("icon").textContent = weatherIcon(w.weathercode);
    document.getElementById("timestamp").textContent = `Last updated: ${current.toLocaleString()}`;

    // Additional stats
    const hourlyIndex = currentHour;
    document.getElementById("humidity").textContent = data.hourly.relativehumidity_2m[hourlyIndex] || 'N/A';
    document.getElementById("cloudCover").textContent = data.hourly.cloudcover[hourlyIndex] || 'N/A';
    document.getElementById("uvIndex").textContent = Math.round(data.hourly.uv_index[hourlyIndex] || 0);
    document.getElementById("visibility").textContent = Math.round((data.hourly.visibility[hourlyIndex] || 10000) / 1000);
    document.getElementById("pressure").textContent = Math.round(1013 + (Math.random() * 20 - 10));

    // Temperature analysis
    const tempHigh = data.daily.temperature_2m_max[0];
    const tempLow = data.daily.temperature_2m_min[0];
    document.getElementById("tempAnalysis").textContent = `${Math.round(w.temperature)}Â°C`;
    document.getElementById("tempHigh").textContent = `${Math.round(tempHigh)}Â°C`;
    document.getElementById("tempLow").textContent = `${Math.round(tempLow)}Â°C`;
    const tempPercent = ((w.temperature - tempLow) / (tempHigh - tempLow)) * 100;
    document.getElementById("tempProgress").style.width = tempPercent + '%';

    // Precipitation
    const precipProb = data.hourly.precipitation_probability[hourlyIndex] || 0;
    document.getElementById("precipProb").textContent = precipProb + '%';
    document.getElementById("precipAmount").textContent = Math.round(precipProb / 10) + ' mm';
    document.getElementById("precipProgress").style.width = precipProb + '%';

    // Sun & Moon
    const sunrise = new Date(data.daily.sunrise[0]);
    const sunset = new Date(data.daily.sunset[0]);
    const daylightHours = (sunset - sunrise) / (1000 * 60 * 60);
    document.getElementById("sunrise").textContent = sunrise.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    document.getElementById("sunset").textContent = sunset.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    document.getElementById("daylight").textContent = `${Math.floor(daylightHours)}h ${Math.round((daylightHours % 1) * 60)}m`;

    // Weather insights
    let insights = '<ul style="list-style: none; padding: 0;">';
    insights += `<li>ğŸŒ¡ï¸ Temperature is ${w.temperature > 25 ? 'warm' : w.temperature > 15 ? 'moderate' : 'cool'}</li>`;
    insights += `<li>ğŸ’¨ Wind conditions are ${w.windspeed > 30 ? 'strong' : w.windspeed > 15 ? 'moderate' : 'calm'}</li>`;
    insights += `<li>â˜ï¸ Sky is ${data.hourly.cloudcover[hourlyIndex] > 70 ? 'mostly cloudy' : data.hourly.cloudcover[hourlyIndex] > 30 ? 'partly cloudy' : 'clear'}</li>`;
    insights += `<li>â˜€ï¸ UV index is ${data.hourly.uv_index[hourlyIndex] > 7 ? 'high' : data.hourly.uv_index[hourlyIndex] > 3 ? 'moderate' : 'low'}</li>`;
    insights += '</ul>';
    document.getElementById("insights").innerHTML = insights;

    // Hourly forecast
    const hourlyHTML = [];
    for (let i = 0; i < 24; i++) {
        const index = hourlyIndex + i;
        const hour = new Date(data.hourly.time[index]).getHours();
        const temp = Math.round(data.hourly.temperature_2m[index]);
        const code = data.hourly.weathercode[index];
        
        hourlyHTML.push(`
            <div class="hourly-card">
                <div class="hourly-time">${hour}:00</div>
                <div class="hourly-icon">${weatherIcon(code)}</div>
                <div class="hourly-temp">${temp}Â°C</div>
                <div style="font-size: 0.8em; margin-top: 5px;">${data.hourly.precipitation_probability[index]}% ğŸ’§</div>
            </div>
        `);
    }
    document.getElementById("hourlyForecast").innerHTML = hourlyHTML.join('');

    // Daily forecast
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    const dailyHTML = [];
    for (let i = 0; i < 7; i++) {
        const date = new Date(data.daily.time[i]);
        const dayName = i === 0 ? 'Today' : days[date.getDay()];
        const maxTemp = Math.round(data.daily.temperature_2m_max[i]);
        const minTemp = Math.round(data.daily.temperature_2m_min[i]);
        const code = data.daily.weathercode[i];
        
        dailyHTML.push(`
            <div class="daily-card">
                <div class="daily-day">${dayName}</div>
                <div class="daily-icon">${weatherIcon(code)}</div>
                <div style="font-size: 0.9em; margin: 5px 0;">${weatherText(code)}</div>
                <div class="daily-temps">
                    <span class="temp-high">${maxTemp}Â°</span> / 
                    <span class="temp-low">${minTemp}Â°</span>
                </div>
                <div style="font-size: 0.8em; margin-top: 5px;">${data.daily.precipitation_probability_max[i] || 0}% ğŸ’§</div>
            </div>
        `);
    }
    document.getElementById("dailyForecast").innerHTML = dailyHTML.join('');

    // Temperature chart
    const chartHTML = [];
    for (let i = 0; i < 24; i++) {
        const index = hourlyIndex + i;
        const temp = data.hourly.temperature_2m[index];
        const minChartTemp = Math.min(...data.hourly.temperature_2m.slice(hourlyIndex, hourlyIndex + 24));
        const maxChartTemp = Math.max(...data.hourly.temperature_2m.slice(hourlyIndex, hourlyIndex + 24));
        const height = ((temp - minChartTemp) / (maxChartTemp - minChartTemp)) * 100;
        
        chartHTML.push(`
            <div class="chart-bar" style="height: ${height}%" title="${Math.round(temp)}Â°C at ${new Date(data.hourly.time[index]).getHours()}:00"></div>
        `);
    }
    document.getElementById("tempChart").innerHTML = chartHTML.join('');

    document.getElementById("weather").style.display = "block";
    document.getElementById("loading").style.display = "none";
}

function displayExtraInfo(data, lat, lon) {
    const w = data.current_weather;
    const currentHour = new Date().getHours();
    const humidity = data.hourly.relativehumidity_2m[currentHour];
    
    // Daily Indian tourist place
    const dayOfYear = Math.floor((new Date() - new Date(new Date().getFullYear(), 0, 0)) / 86400000);
    const place = indianPlaces[dayOfYear % indianPlaces.length];
    document.getElementById("placeIcon").textContent = place.icon;
    document.getElementById("placeName").textContent = place.name;
    document.getElementById("placeDesc").textContent = place.desc;
    document.getElementById("placeState").textContent = place.state;
    document.getElementById("placeCategory").textContent = place.category;
    document.getElementById("placeBestTime").textContent = `Best: ${place.bestTime}`;

    // Air Quality (simulated)
    const aqi = Math.floor(Math.random() * 150) + 20;
    document.getElementById("aqiLevel").textContent = aqi;
    document.getElementById("aqiStatus").textContent = aqi < 50 ? 'Good' : aqi < 100 ? 'Moderate' : aqi < 150 ? 'Unhealthy for Sensitive' : 'Unhealthy';
    document.getElementById("pm25").textContent = Math.floor(aqi * 0.4);
    document.getElementById("aqiProgress").style.width = (aqi / 200 * 100) + '%';

    // Moon phase
    const moonPhases = [
        { name: "New Moon", icon: "ğŸŒ‘", illumination: "0%" },
        { name: "Waxing Crescent", icon: "ğŸŒ’", illumination: "25%" },
        { name: "First Quarter", icon: "ğŸŒ“", illumination: "50%" },
        { name: "Waxing Gibbous", icon: "ğŸŒ”", illumination: "75%" },
        { name: "Full Moon", icon: "ğŸŒ•", illumination: "100%" },
        { name: "Waning Gibbous", icon: "ğŸŒ–", illumination: "75%" },
        { name: "Last Quarter", icon: "ğŸŒ—", illumination: "50%" },
        { name: "Waning Crescent", icon: "ğŸŒ˜", illumination: "25%" }
    ];
    const moonPhase = moonPhases[Math.floor(new Date().getDate() / 3.75)];
    document.getElementById("moonIcon").textContent = moonPhase.icon;
    document.getElementById("moonPhase").textContent = moonPhase.name;
    document.getElementById("moonIllumination").textContent = `${moonPhase.illumination} illuminated`;

    // Astronomical info
    const sunrise = new Date(data.daily.sunrise[0]);
    const sunset = new Date(data.daily.sunset[0]);
    const solarNoon = new Date((sunrise.getTime() + sunset.getTime()) / 2);
    const goldenHourStart = new Date(sunset.getTime() - 60 * 60 * 1000);
    document.getElementById("solarNoon").textContent = solarNoon.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    document.getElementById("goldenHour").textContent = goldenHourStart.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    document.getElementById("starVisibility").textContent = data.hourly.cloudcover[currentHour] < 30 ? 'Excellent' : data.hourly.cloudcover[currentHour] < 70 ? 'Good' : 'Poor';

    // Seasonal activities
    const month = new Date().getMonth();
    const seasons = [
        { name: "Winter", activities: "ğŸ¿ Skiing in Himalayas, ğŸ–ï¸ Beach visits, ğŸš¶ City tours" },
        { name: "Spring", activities: "ğŸŒ¸ Flower viewing, ğŸï¸ Nature trails, ğŸš´ Cycling" },
        { name: "Summer", activities: "ğŸ”ï¸ Hill stations, ğŸŠ Swimming, ğŸŒŠ Water sports" },
        { name: "Autumn", activities: "ğŸ‚ Trekking, ğŸ“¸ Photography, ğŸª Festivals" }
    ];
    const season = seasons[Math.floor(month / 3)];
    document.getElementById("seasonalActivities").innerHTML = `<strong>${season.name}</strong><br>${season.activities}`;

    // Weather fact
    document.getElementById("weatherFact").textContent = weatherFacts[Math.floor(Math.random() * weatherFacts.length)];

    // Extra stats
    document.getElementById("dewPoint").textContent = Math.round(w.temperature - (100 - humidity) / 5);
    document.getElementById("precipitation").textContent = (Math.random() * 5).toFixed(1);
    document.getElementById("windGust").textContent = Math.round(w.windspeed * 1.5);
    document.getElementById("weatherMood").textContent = w.temperature > 20 && data.hourly.cloudcover[currentHour] < 50 ? 'ğŸ˜Š' : w.temperature < 10 ? 'ğŸ¥¶' : 'ğŸ˜';
    
    const outdoorScore = Math.max(0, Math.min(10, 10 - (Math.abs(w.temperature - 22) / 3) - (data.hourly.cloudcover[currentHour] / 20) - (w.windspeed / 10)));
    document.getElementById("outdoorIndex").textContent = outdoorScore.toFixed(1);
    
    document.getElementById("heatIndex").textContent = Math.round(w.temperature + (humidity - 40) * 0.1);
    document.getElementById("windChill").textContent = Math.round(w.temperature - (w.windspeed * 0.5));
    document.getElementById("rainbowChance").textContent = (data.hourly.precipitation_probability[currentHour] > 20 && data.hourly.cloudcover[currentHour] < 80) ? Math.floor(Math.random() * 40 + 20) : Math.floor(Math.random() * 20);

    // Clothing advice
    const clothingHTML = [];

    if (w.temperature < 10) {
        clothingHTML.push(clothingItem("ğŸ§¥", "Heavy Jacket", "heavy jacket"));
        clothingHTML.push(clothingItem("ğŸ§£", "Scarf", "scarf"));
        clothingHTML.push(clothingItem("ğŸ§¤", "Gloves", "gloves"));
    }
    else if (w.temperature < 20) {
        clothingHTML.push(clothingItem("ğŸ§¥", "Light Jacket", "light jacket"));
        clothingHTML.push(clothingItem("ğŸ‘–", "Long Pants", "men trousers"));
        clothingHTML.push(clothingItem("ğŸ‘Ÿ", "Sneakers", "sneakers"));
    }
    else {
        clothingHTML.push(clothingItem("ğŸ‘•", "T-Shirt", "t shirt"));
        clothingHTML.push(clothingItem("ğŸ©³", "Shorts", "men shorts"));
        clothingHTML.push(clothingItem("ğŸ•¶ï¸", "Sunglasses", "sunglasses"));
    }

    if (data.hourly.precipitation_probability[currentHour] > 30) {
        clothingHTML.push(clothingItem("â˜‚ï¸", "Umbrella", "umbrella"));
    }

    document.getElementById("clothingAdvice").innerHTML = clothingHTML.join("");


    // Activity suggestions
    const activityHTML = [];
    if (w.temperature > 15 && w.temperature < 30 && data.hourly.cloudcover[currentHour] < 50) {
        activityHTML.push('<div class="activity-card">ğŸš´ Cycling</div>');
        activityHTML.push('<div class="activity-card">ğŸƒ Running</div>');
        activityHTML.push('<div class="activity-card">ğŸ§˜ Yoga</div>');
    } else if (w.temperature > 25) {
        activityHTML.push('<div class="activity-card">ğŸŠ Swimming</div>');
        activityHTML.push('<div class="activity-card">ğŸ¦ Ice Cream</div>');
        activityHTML.push('<div class="activity-card">ğŸŒ³ Park Visit</div>');
    } else {
        activityHTML.push('<div class="activity-card">ğŸ“š Reading</div>');
        activityHTML.push('<div class="activity-card">â˜• CafÃ© Time</div>');
        activityHTML.push('<div class="activity-card">ğŸ¬ Movie</div>');
    }
    if (data.hourly.precipitation_probability[currentHour] > 50) {
        activityHTML.push('<div class="activity-card">ğŸ  Stay Indoor</div>');
    }
    document.getElementById("activitySuggestions").innerHTML = activityHTML.join('');

    // Climate info
    const climateZones = {
        tropical: { range: "20-35Â°C", type: "Tropical" },
        temperate: { range: "10-25Â°C", type: "Temperate" },
        cold: { range: "-10-10Â°C", type: "Cold" }
    };
    const zone = w.temperature > 25 ? climateZones.tropical : w.temperature > 10 ? climateZones.temperate : climateZones.cold;
    document.getElementById("climateZone").textContent = zone.type;
    document.getElementById("currentSeason").textContent = season.name;
    document.getElementById("typicalRange").textContent = zone.range;

    // Weather alerts
    let alerts = '';
    if (w.temperature > 35) alerts += 'ğŸŒ¡ï¸ Heat Advisory<br>';
    if (w.temperature < 0) alerts += 'â„ï¸ Freeze Warning<br>';
    if (w.windspeed > 40) alerts += 'ğŸ’¨ High Wind Alert<br>';
    if (data.hourly.precipitation_probability[currentHour] > 70) alerts += 'â˜” Heavy Rain Expected<br>';
    if (data.hourly.uv_index[currentHour] > 8) alerts += 'â˜€ï¸ High UV Alert<br>';
    document.getElementById("weatherAlerts").innerHTML = alerts || 'No active alerts';

    // Photography tips
    let photoTips = '';
    if (currentHour < 8 || currentHour > 18) photoTips += 'âœ¨ Golden hour lighting<br>';
    if (data.hourly.cloudcover[currentHour] < 30) photoTips += 'ğŸŒ… Perfect for landscapes<br>';
    if (data.hourly.cloudcover[currentHour] > 70) photoTips += 'â˜ï¸ Dramatic cloud shots<br>';
    if (data.hourly.precipitation_probability[currentHour] > 30) photoTips += 'ğŸŒ§ï¸ Rain photography<br>';
    document.getElementById("photoTips").innerHTML = photoTips || 'Good conditions for general photography';

    // Gardening index
    const plantingScore = w.temperature > 15 && w.temperature < 30 && data.hourly.precipitation_probability[currentHour] < 50 ? 'Excellent' : 'Moderate';
    const wateringScore = humidity < 50 && w.temperature > 20 ? 'High Need' : 'Low Need';
    const gardeningActivity = w.temperature > 10 && w.temperature < 30 ? 'Plant & Prune' : 'Indoor Care';
    document.getElementById("plantingIndex").textContent = plantingScore;
    document.getElementById("wateringIndex").textContent = wateringScore;
    document.getElementById("gardeningActivity").textContent = gardeningActivity;
}

function weatherText(code) {
    if (code === 0) return "Clear sky";
    if (code <= 3) return "Partly cloudy";
    if (code <= 48) return "Foggy";
    if (code <= 67) return "Rainy";
    if (code <= 77) return "Snowy";
    if (code <= 82) return "Rain showers";
    if (code <= 86) return "Snow showers";
    return "Thunderstorm";
}

function weatherIcon(code) {
    if (code === 0) return "â˜€ï¸";
    if (code <= 3) return "â›…";
    if (code <= 48) return "ğŸŒ«ï¸";
    if (code <= 67) return "ğŸŒ§ï¸";
    if (code <= 77) return "â„ï¸";
    if (code <= 82) return "ğŸŒ¦ï¸";
    if (code <= 86) return "ğŸŒ¨ï¸";
    return "â›ˆï¸";
}

function showError(msg) {
    const e = document.getElementById("error");
    e.textContent = msg;
    e.style.display = "block";
    document.getElementById("loading").style.display = "none";
}

function hideAll() {
    document.getElementById("error").style.display = "none";
    document.getElementById("weather").style.display = "none";
}

// Auto-update every 10 minutes
let autoUpdateInterval;
function startAutoUpdate() {
    if (autoUpdateInterval) clearInterval(autoUpdateInterval);
    autoUpdateInterval = setInterval(() => {
        const city = document.getElementById("cityInput").value.trim();
        if (city) getWeather();
    }, 600000);
}

document.addEventListener("click", function (e) {
    const item = e.target.closest(".clothing-item");
    if (item && item.dataset.link) {
        window.open(item.dataset.link, "_blank");
    }
});

</script>
</body>

</html>





